<app-navbar></app-navbar>

    <section class="main">
    <form #f="ngForm" name="form" (ngSubmit)="f.form.valid && onSubmit()">
        <h3>Register</h3>

        <div>
        <input type="name"
            placeholder="Enter your name"
            name="username"
            ngModel required  #username="ngModel"
            [(ngModel)]="form.username"
             required
             minlength="3" 
             maxlength="20"
           [ngClass]="{ 'is-invalid': f.submitted && username.errors }">
        </div>

                <div class="invalid-feedback" *ngIf="username.errors && f.submitted">
                    <div *ngIf="username.errors['required']">Username is required</div>
                    <div *ngIf="username.errors['minlength']">
                    Username must be at least 3 characters
                    </div>
                    <div *ngIf="username.errors['maxlength']">
                    Username must be at most 20 characters
                    </div>
                    <div *ngIf="userAlreadyExist != ''" class="alert alert-danger">
                      {{userAlreadyExist}} 
                    </div>  
                </div>
    
        <div>
          
          <input type="email" 
          placeholder="Enter your email" 
          class="form-control" 
          name="email"  
          #email="ngModel" 
          [(ngModel)]="form.email" 
          required  email
           [ngClass]="{ 'is-invalid': f.submitted && email.errors }" />

                    <div class="invalid-feedback" *ngIf="email.errors && f.submitted">
                        <div *ngIf="email.errors['required']">Email is required</div>
                        <div *ngIf="email.errors['email']">
                        Email must be a valid email address
                        </div>
                    </div>
                    <div *ngIf="emailAlredyExist != ''" class="alert alert-danger">
                      {{emailAlredyExist}} 
                    </div>  
        </div>

        <div>
          
          <input
            type="password"
            placeholder="Enter your password"
            class="form-control"
            name="password"
            #password="ngModel"
            [(ngModel)]="form.password"
            required
            minlength="6"
            [ngClass]="{ 'is-invalid': f.submitted && password.errors }"
          />
                    <div class="invalid-feedback" *ngIf="password.errors && f.submitted">
                        <div *ngIf="password.errors['required']">Password is required</div>
                        <div *ngIf="password.errors['minlength']">
                        Password must be at least 6 characters
                        </div>
          </div>
        </div>
        <div class="form-group">
          <button class="btn btn-primary btn-block">Sign Up</button>
        </div>
  
        <div class="alert alert-warning" *ngIf="f.submitted && isSignUpFailed">
          Signup failed!<br />{{ errorMessage }}
        </div>
    </form>
  </section>

